<!-- Open Studio Section -->
<section class="py-5 bg-beige-claro">
  <div class="container">
    <div class="row align-items-center">

      <!-- Texto -->
      <div class="col-lg-6 text-center text-lg-start mb-4 mb-lg-0">

        <!-- Todo el texto entra a la vez -->
        <h2 class="fw-bold mb-4"
            style="color:#3E3028;"
            appRevealAnimate="animate__fadeInLeft"
            [delay]="'0s'">
          Open Studio & Membership
        </h2>

        <p class="text-muted fs-5"
           appRevealAnimate="animate__fadeInLeft"
           [delay]="'0s'">
          Welcome to Ashya’s Studio, your favourite place for all around ceramics. Located in Hamburg,
          we offer a fun and welcoming environment for everyone, whether you’re a beginner
          (who joined my ceramics course) or a pro with experience.
          Come hang out, get creative, and make some amazing pottery with us!
        </p>

        <p class="text-muted fs-5"
           appRevealAnimate="animate__fadeInLeft"
           [delay]="'0s'">
          Every <span class="fw-bold" style="color:#3E3028;">Monday, Wednesday and Friday</span> from
          <span class="fw-bold" style="color:#3E3028;">6 PM to 9 PM</span> and
          <span class="fw-bold" style="color:#3E3028;">Saturday</span> from
          <span class="fw-bold" style="color:#3E3028;">4:30 PM to 8 PM</span>,
          our studio is open for you to practice independently and enhance your skills.
          Experiment with different types of clay and techniques in an inspiring community.
        </p>

        <!-- Level -->
        <div class="mb-3"
             appRevealAnimate="animate__fadeInLeft"
             [delay]="'0s'">
          <div class="fw-bold mb-1" style="color:#3E3028;">Level</div>
          <div class="text-muted fs-5">
            Experienced level required (or completion of at least one hand-building class at Ashya Studio).
          </div>
        </div>

        <!-- Options accordion (solo 1 abierto) -->
        <div class="accordion mb-4"
             id="openStudioOptions"
             appRevealAnimate="animate__fadeInLeft"
             [delay]="'0s'">

          <!-- 1 time entry -->
          <div class="accordion-item border-0 rounded-4 shadow-sm mb-2 overflow-hidden">
            <h2 class="accordion-header" id="optOneHeader">
              <button class="accordion-button"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#optOne"
                      aria-expanded="true"
                      aria-controls="optOne"
                      style="background:#fff; color:#3E3028;">
                1 time entry — <span class="fw-bold ms-2">30€ / person</span>
              </button>
            </h2>

            <div id="optOne"
                 class="accordion-collapse collapse show"
                 aria-labelledby="optOneHeader"
                 data-bs-parent="#openStudioOptions">
              <div class="accordion-body bg-white">
                <ul class="list-unstyled mb-0 text-muted fs-5">
                  <li class="mb-2"><strong style="color:#3E3028;">Included:</strong> tools and bisque firing</li>
                  <li class="mb-2"><strong style="color:#3E3028;">Not included:</strong> glaze firing (see firing service for costs), clay and glazes (extra paid depending on the amount)</li>
                  <li><strong style="color:#3E3028;">Clay cost:</strong> 4€ per 1kg</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- 10 times entry -->
          <div class="accordion-item border-0 rounded-4 shadow-sm mb-2 overflow-hidden">
            <h2 class="accordion-header" id="optTwoHeader">
              <button class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#optTwo"
                      aria-expanded="false"
                      aria-controls="optTwo"
                      style="background:#fff; color:#3E3028;">
                10 times entry — <span class="fw-bold ms-2">200€ / person</span>
              </button>
            </h2>

            <div id="optTwo"
                 class="accordion-collapse collapse"
                 aria-labelledby="optTwoHeader"
                 data-bs-parent="#openStudioOptions">
              <div class="accordion-body bg-white">
                <ul class="list-unstyled mb-0 text-muted fs-5">
                  <li class="mb-2"><strong style="color:#3E3028;">Included:</strong> tools, bisque firing, your own storage space</li>
                  <li><strong style="color:#3E3028;">Not included:</strong> glaze firing (see firing service for costs), clay and glazes (extra paid depending on the amount)</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Unlimited entry -->
          <div class="accordion-item border-0 rounded-4 shadow-sm overflow-hidden">
            <h2 class="accordion-header" id="optThreeHeader">
              <button class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#optThree"
                      aria-expanded="false"
                      aria-controls="optThree"
                      style="background:#fff; color:#3E3028;">
                Unlimited entry — <span class="fw-bold ms-2">50€ / month</span>
                <span class="text-muted ms-2">(min. 6 months)</span>
              </button>
            </h2>

            <div id="optThree"
                 class="accordion-collapse collapse"
                 aria-labelledby="optThreeHeader"
                 data-bs-parent="#openStudioOptions">
              <div class="accordion-body bg-white">
                <ul class="list-unstyled mb-0 text-muted fs-5">
                  <li class="mb-2"><strong style="color:#3E3028;">Minimum total:</strong> 300€ / person</li>
                  <li class="mb-2"><strong style="color:#3E3028;">Included:</strong> tools, bisque firing, your own storage space</li>
                  <li><strong style="color:#3E3028;">Not included:</strong> glaze firing (see firing service for costs), clay and glazes (extra paid depending on the amount)</li>
                </ul>
              </div>
            </div>
          </div>

        </div>

        <p class="text-muted fs-5 mb-3"
          appRevealAnimate="animate__fadeInLeft"
          [delay]="'0s'">
          Interested in joining the Open Studio?
          Send me a message using the form below and I’ll get back to you with all the details.
        </p>

        <!-- Botón desktop (igual que antes) -->
        <button
          type="button"
          class="btn bg-azul text-white mt-2 d-none d-lg-inline-block"
          appRevealAnimate="animate__fadeInLeft"
          [delay]="'0s'"
          (click)="abrirModalOpenStudio()">
          Book Now
        </button>

      </div>

      <!-- Imagen -->
      <div class="col-lg-6 text-center mb-4"
           appRevealAnimate="animate__fadeInRight"
           [delay]="'0.2s'">

        <img
          src="assets/studio/studio.jpg"
          alt="Ashya Studio - Open Studio"
          class="img-fluid rounded-4 shadow">

        <!-- Botón móvil debajo de la imagen -->
        <button
          type="button"
          class="btn bg-azul text-white mt-3 d-lg-none d-inline-block"
          appRevealAnimate="animate__fadeInRight"
          [delay]="'0.2s'"
          (click)="abrirModalOpenStudio()">
          Book Now
        </button>
      </div>

    </div>
  </div>
</section>


<!-- MAPA con bg-beige -->
<section class="py-5 bg-beige">
  <div class="container">

    <div class="row text-center mb-3">
      <h3 class="fw-bold mb-2" style="color: #3E3028; font-size: 1.75rem;">Find Us Here</h3>
      <p class="text-muted fs-5" style="max-width: 600px; margin: 0 auto; color:#6b5e52;">
        Ashya Art & Keramik Studio – Pinneberger Ch 74, 22523 Hamburg, Germany
      </p>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="ratio ratio-16x9 rounded-4 shadow">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2381.105311981883!2d9.913031315909833!3d53.60836728005021!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47b18f5cbe3e560f%3A0x4763f9cc8f324c8b!2sPinneberger%20Chaussee%2074%2C%2022523%20Hamburg%2C%20Germany!5e0!3m2!1sen!2es!4v1690027200000!5m2!1sen!2es"
            width="600"
            height="450"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade">
          </iframe>
        </div>
      </div>
    </div>

  </div>
</section>


<!-- MODAL OPEN STUDIO -->
<div
  class="modal fade"
  id="modalOpenStudio"
  tabindex="-1"
  aria-labelledby="modalOpenStudioLabel"
  aria-hidden="true">

  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content shadow-lg">

      <div class="modal-header bg-azul text-white">
        <h5 class="modal-title" id="modalOpenStudioLabel">Open Studio Request</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">

        <p class="mb-2">
          Tell us what you’re interested in and we’ll get back to you with more information.
        </p>

        <div class="alert alert-light border rounded-3 mb-4" style="background: #fff;">
          <div class="fw-bold" style="color:#3E3028;">Important</div>
          <div class="text-muted">
            Experienced level required (or completion of at least one hand-building class at Ashya Studio).
            <br>
            <strong>Not included:</strong> glaze firing, clay and glazes (extra paid). Clay cost: <strong>4€ / 1kg</strong>.
          </div>
        </div>

        <form #openStudioForm="ngForm" (ngSubmit)="enviarSolicitudOpenStudio(openStudioForm)" novalidate>

          <!-- Interest / Option -->
          <div class="mb-3">
            <label class="form-label fw-bold">What are you interested in? *</label>
            <select
              class="form-select"
              [(ngModel)]="reserva.option"
              name="option"
              required
              #option="ngModel">

              <option value="" disabled>Select an option</option>
              <option value="1_time_entry">1 time entry — 30€ / person</option>
              <option value="10_times_entry">10 times entry — 200€ / person</option>
              <option value="unlimited_entry">Unlimited entry — 50€ / month</option>
            </select>

            <div class="text-danger small mt-1" *ngIf="option.invalid && option.touched">
              Please select an option.
            </div>

            <div class="form-text text-muted">
              Included: tools + bisque firing (storage space included for 10 times / Unlimited).
            </div>
          </div>

          <!-- Name -->
          <div class="mb-3">
            <label class="form-label fw-bold">Your Name *</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="reserva.nombre"
              name="nombre"
              required
              #nombre="ngModel"
              placeholder="Your full name">

            <div class="text-danger small mt-1" *ngIf="nombre.invalid && nombre.touched">
              Name is required.
            </div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label class="form-label fw-bold">Your email address *</label>
            <input
              type="email"
              class="form-control"
              [(ngModel)]="reserva.email"
              name="email"
              required
              email
              #email="ngModel"
              placeholder="email@example.com">

            <div class="text-danger small mt-1" *ngIf="email.errors?.['required'] && email.touched">
              Email is required.
            </div>

            <div class="text-danger small mt-1" *ngIf="email.errors?.['email'] && email.touched">
              Please enter a valid email address.
            </div>
          </div>

          <!-- Phone (REQUIRED) -->
          <div class="mb-3">
            <label class="form-label fw-bold">Your phone number *</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="reserva.telefono"
              name="telefono"
              required
              pattern="[-0-9()+ ]{3,20}"
              #telefono="ngModel"
              placeholder="+49 600 000 000">

            <div class="text-danger small mt-1" *ngIf="telefono.errors?.['required'] && telefono.touched">
              Phone number is required.
            </div>

            <div class="text-danger small mt-1" *ngIf="telefono.errors?.['pattern'] && telefono.touched">
              Enter a valid phone number (3–20 characters).
            </div>
          </div>


          <!-- Message (optional) -->
          <div class="mb-3">
            <label class="form-label fw-bold">Message (optional)</label>
            <textarea
              class="form-control"
              rows="3"
              [(ngModel)]="reserva.preguntasAdicionales"
              name="preguntasAdicionales"
              placeholder="Tell us a bit about your experience level or any questions you may have."></textarea>
          </div>

          <div class="modal-footer px-0">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              Cancel
            </button>

            <button
              type="submit"
              class="btn bg-azul text-white"
              [disabled]="openStudioForm.invalid || openStudioLoading">

              <ng-container *ngIf="!openStudioLoading; else loadingTpl">
                Send
              </ng-container>

              <ng-template #loadingTpl>
                <span class="me-2"></span>
                Processing...
              </ng-template>

            </button>
          </div>

        </form>
      </div>

    </div>
  </div>
</div>


<!-- Feedback Modal -->
<app-feedback-modal
  *ngIf="mostrarFeedback"
  [status]="feedbackTipo"
  [title]="feedbackTitulo"
  [message]="feedbackMensaje"
  (closed)="cerrarFeedback()">
</app-feedback-modal>

